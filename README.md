# clone-undertale
# Урок: Створення копії Undertale - Пересування гравця та сцени

### Огляд
У цьому уроці ми реалізуємо гг та сцену. Ми навчимося керувати пересуванням гравця по сцені за допомогою клавіш WASD. Використовуючи бібліотеку Pygame, ми створимо просту гру з двома об'єктами на сцені: фоновою картинкою (сценою) та гравцем (сердечком). Код включає використання класів для управління спрайтами, обробку подій, оновлення положення об'єктів та їх відображення на екрані.

### Клас `GameSprite`
Клас `GameSprite` використовується для створення спрайтів (об'єктів, що відображаються на екрані).
- Конструктор класу приймає такі параметри: `img` (шлях до зображення), `x`, `y` (початкові координати спрайту), `width`, `height` (ширина та висота спрайту).
- Метод `reset()` малює спрайт на екрані за допомогою функції `blit()`.

### Функція `update()`
Функція `update()` відповідає за переміщення об'єкта-гравця на основі натискання клавіш WASD. Вона змінює координати об'єкта в залежності від натиснутої клавіші.

### Головний ігровий цикл
Головний ігровий цикл виконується безкінечно, доки користувач не закриє вікно гри. У ньому:
1. Обробляються події (закриття вікна).
2. Вікно оновлюється (очищується, малюються сцена та гравець).
3. Викликається функція `update()` для оновлення положення гравця.
4. Оновлюється дисплей з частотою 60 кадрів за секунду.

### Коментарі по коду

#### Імпорт бібліотек та ініціалізація
```python
import time
from pygame import *

init()  # Ініціалізація Pygame
```

#### Клас `GameSprite`
```python
class GameSprite:
    def __init__(self, img, x, y, width, height):
        # Завантаження зображення та масштабування його до вказаних розмірів
        self.image = transform.scale(image.load(img), (width, height))
        # Отримання прямокутника для визначення положення спрайту
        self.rect = self.image.get_rect()
        # Початкові координати спрайту
        self.rect.x = x
        self.rect.y = y

    def reset(self):
        # Малювання спрайту у вказаному місці
        window.blit(self.image, (self.rect.x, self.rect.y))
```

#### Функція `update()` для переміщення гравця
```python
def update():
    speed = 5  # Швидкість руху гравця
    keys = key.get_pressed()  # Отримання натиснутих клавіш
    # Рух вгору, якщо натиснута клавіша W і гравець не виходить за межі
    if keys[K_w] and player.rect.y >= 165:
        player.rect.y -= speed
    # Рух вниз, якщо натиснута клавіша S і гравець не виходить за межі
    if keys[K_s] and player.rect.y <= 355:
        player.rect.y += speed
    # Рух вліво, якщо натиснута клавіша A і гравець не виходить за межі
    if keys[K_a] and player.rect.x >= 190:
        player.rect.x -= speed
    # Рух вправо, якщо натиснута клавіша D і гравець не виходить за межі
    if keys[K_d] and player.rect.x <= 380:
        player.rect.x += speed
```

#### Налаштування вікна та створення об'єктів
```python
# Розмір вікна гри
size = 600, 600
window = display.set_mode(size)  # Створення вікна гри
clock = time.Clock()  # Створення годинника для контролю кадрів

# Створення об'єктів сцени та гравця
scene = GameSprite('scene.png', 180, 150, 250, 250)
player = GameSprite('heart.png', 200, 200, 40, 30)
```

#### Головний ігровий цикл
```python
# Головний цикл гри
while True:
    for e in event.get():
        if e.type == QUIT:  # Закриття вікна
            quit()

    window.fill((0, 0, 0))  # Очищення екрану (заповнення чорним кольором)
    scene.reset()  # Відображення сцени
    player.reset()  # Відображення гравця
    update()  # Оновлення положення гравця

    display.update()  # Оновлення дисплею
    clock.tick(60)  # Встановлення частоти кадрів (60 кадрів за секунду)
```

### Основні моменти
- **Ініціалізація Pygame** відбувається за допомогою `init()`, що дозволяє використовувати функціонал бібліотеки.
- **Головний цикл гри** обробляє події, оновлює зображення на екрані та підтримує фіксовану частоту кадрів (60 FPS).
- **Клас `GameSprite`** робить код чистішим і легким для управління спрайтами на екрані.